# מדריך לשימוש בשדה fullAddress

## 🏠 שדה fullAddress - כתובת מלאה

### 📋 מה זה fullAddress?
שדה `fullAddress` הוא שדה חדש שנוצר אוטומטית עבור כל קבלן, המשלב:
- **כתובת** (address)
- **עיר** (city)

### 🔧 איך זה עובד?

#### **1. יצירת קבלן חדש:**
```javascript
// השרת יוסיף אוטומטית:
fullAddress: "ז'בוטינסקי 7, רמת גן"
```

#### **2. עדכון קבלן קיים:**
```javascript
// אם משנים address או city, fullAddress מתעדכן אוטומטית
fullAddress: "כתובת חדשה, עיר חדשה"
```

### 📊 דוגמאות מהנתונים הקיימים:

#### **אלקטרה בניה בע״מ:**
- **Address:** ז'בוטינסקי 7
- **City:** רמת גן
- **Full Address:** ז'בוטינסקי 7, רמת גן

#### **קבלן פרשקובסקי בע״מ:**
- **Address:** דרך נמיר 123
- **City:** תל אביב
- **Full Address:** דרך נמיר 123, תל אביב

#### **קבלן כהן ובניו:**
- **Address:** רחוב יפו 456
- **City:** ירושלים
- **Full Address:** רחוב יפו 456, ירושלים

#### **קבלן גולדברג:**
- **Address:** רחוב הרצל 789
- **City:** באר שבע
- **Full Address:** רחוב הרצל 789, באר שבע

#### **קבלן שפירא ובניו:**
- **Address:** רחוב הרצל 321
- **City:** אשדוד
- **Full Address:** רחוב הרצל 321, אשדוד

### 🔍 חיפוש ב-MongoDB Compass:

#### **חיפוש לפי כתובת מלאה:**
```javascript
{ "fullAddress": "ז'בוטינסקי 7, רמת גן" }
```

#### **חיפוש לפי חלק מהכתובת:**
```javascript
{ "fullAddress": { $regex: "תל אביב" } }
```

#### **חיפוש לפי עיר:**
```javascript
{ "fullAddress": { $regex: "ירושלים" } }
```

### 💻 שימוש ב-API:

#### **GET /api/contractors**
```json
{
  "name": "אלקטרה בניה בע״מ",
  "address": "ז'בוטינסקי 7",
  "city": "רמת גן",
  "fullAddress": "ז'בוטינסקי 7, רמת גן"
}
```

#### **POST /api/contractors**
```json
{
  "name": "קבלן חדש",
  "address": "רחוב הרצל 100",
  "city": "חיפה"
}
// השרת יוסיף אוטומטית:
// "fullAddress": "רחוב הרצל 100, חיפה"
```

### 🛠️ עדכון אוטומטי:

השדה `fullAddress` מתעדכן אוטומטית ב:
- ✅ **יצירת קבלן חדש**
- ✅ **עדכון כתובת קיימת**
- ✅ **עדכון עיר קיימת**
- ✅ **שמירה לקובץ**

### 📁 קבצים מעודכנים:

- `data/contractors_sample.json` - נתונים לדוגמה עם fullAddress
- `scripts/add_full_address.js` - סקריפט להוספת השדה
- `server/index.js` - לוגיקה אוטומטית בשרת

### 🎯 יתרונות השדה החדש:

1. **כתובת מלאה** - מידע מאוחד במקום אחד
2. **חיפוש קל** - חיפוש בכתובת המלאה
3. **עדכון אוטומטי** - לא צריך לעדכן ידנית
4. **עקביות** - פורמט אחיד לכל הקבלנים
5. **שימושיות** - קל להצגה בממשק

### 🔄 רענון נתונים:

אם תרצה לרענן את הנתונים:
```bash
node scripts/add_full_address.js
```

### 📝 הערות חשובות:

- השדה נוצר אוטומטית לכל קבלן חדש
- מתעדכן אוטומטית עם כל שינוי בכתובת
- נשמר ב-MongoDB ובקובץ JSON
- זמין ב-API ובממשק
- ניתן לחיפוש ב-Compass
